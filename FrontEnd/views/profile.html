<main id="profile-page">
    <div class="profile-card">
        <img src="./assets/JA.PNG" alt="Profile Picture" class="profile-img">
        <h2 id="profile-name">Welcome, User!</h2>
        <p class="text-muted">Tech Enthusiast & PC Builder</p>
        <hr>
        <div class="profile-details">
            <p><strong>Email:</strong> <span id="profile-email"></span></p>
            <p><strong>Role:</strong> <span id="profile-role"></span></p>
            <p><strong>Phone:</strong> +387 62-189-083</p> 
            <p><strong>Address:</strong> Butmirska 18d, Ilid≈æa</p>
            <p><strong>Joined:</strong> January 2025</p>
        </div>
        <button id="logout-btn" class="logout-btn">Logout</button>
    </div>
</main>

<script>
  $(document).ready(function () {
    const token = localStorage.getItem('user_token');
    if (token) {
      const payload = Utils.parseJwt(token);
      if (payload && payload.user) {
        $("#profile-name").text("Welcome, " + payload.user.email.split("@")[0]);  
        $("#profile-email").text(payload.user.email);
        $("#profile-role").text(payload.user.role);
      }
    }

    $("#logout-btn").click(function() {
      UserService.logout();
    });
  });
</script>
